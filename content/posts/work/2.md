---
title: "FE 컨벤션"
date: 2022-11-06
categories:
  - <work>
tags:
  - convention
---

## 배경

입사 직후 팀원들에게 코드 컨벤션을 물어보자 딱히 정해진 것이 없다는 답변을 들었다. 자세히 들어보자 도입은 하고 싶었으나 시간이 부족했고, 두 명뿐이다 보니 (거기다 바로 옆자리) 실시간으로 소통하면서 코딩이 가능해서 별로 불편하지 않았다고 한다.

하지만 이제 세명이 되었고 (거기다 내 자리는 떨어져 있음) 나는 원래 개인 프로젝트를 할 때조차 자체 컨벤션을 정하고 지키기 위해 노력하면서 코딩을 하는 스타일이라 컨벤션을 정해보자고 제안하였다. 두 분도 원래 새로운 분이 오면 정할 예정이었다고 해서 프런트 팀의 첫 협업은 컨벤션 정하기로 낙점되었다.

두 분은 론칭을 앞둔 프로젝트가 업무로 있어서 바빴기 때문에 상대적으로 한가한 내가 (첫 주에 떨어진 업무는 네이버 페이 적용과 각종 자잘한 에러 해결 및 개선 사항 적용이 끝이었음) 기존에 사용하던 컨벤션과 두 분이 작성하신 코드 그리고 인터넷 검색으로 얻은 각종 컨벤션을 참조하여 문서화를 하였고 이를 바탕으로 회의를 통해 컨벤션을 최종 결정하였다.

특히 가장 어려웠고 신경 썼던 부분은 폴더의 구조인데 첫 회의에서 정한 내용을 다시 문서화하는 과정에서 모호한 부분이 많다는 점을 깨달았다. 규칙에 예외 사항이 너무 많아서 규칙이 길어지게 되고 작업 과정에서 충돌이 일어날 가능성도 많이 보였다. 이를 해결하기 위해 더미 프로젝트로 여러 컨벤션의 폴더 구조를 직접 재현해 보았고, 이를 바탕으로 다시 한번 회의를 통해 현재 우리에게 가장 적합한 폴더 구조를 결정하였다.

Ps. 우리가 정한 컨벤션은 완벽하지 않고 (물론 취향의 차이도 있고) 언제든지 바꿔 나갈 수 있다고 생각한다. 그럼에도 컨벤션이 있는 편이 협업의 과정에서 소통의 비용을 줄여주고, 추후 코드의 파악과 유지 보수에 도움이 된다고 생각하다. 또한 불편한 점들이 쌓여서 이를 바탕으로 개선할 수도 있는데 만약 컨벤션이 없이 각자 알아서 불편함을 해결한다면 나중에는 어떤 것을 개선해야 하는지 그리고 개선했는지도 모르는 어지러운 상태가 될 것이라고 생각한다.

## 컨벤션

### 1. 네이밍

| Type              | Case                                                                        |
| ----------------- | --------------------------------------------------------------------------- |
| 파일 및 폴더      | camelCase<br/>\*컴포넌트 파일 및 폴더는 PascalCase                          |
| 상수              | UPPER_DELIMITER_CASE<br>\*배열: "-\_LIST" 권장<br/>\*객체: "-\_INFO" 권장   |
| 변수              | camelCase[명사]<br/>\*배열: "-List" 권장<br/>\*객체: "-Info", "-Infos" 권장 |
| 함수              | camelCase[동사]<br/>\*서버 통신 함수는 앞에 method 종류 붙히기              |
| 클래스(tsx, scss) | camelCase<br/>\*하위 클래스는 "\_"로 연결 / e.g. filledBtn_black            |
| 스타일(scss)      | kebab-case                                                                  |
| 브랜치            | camelCase                                                                   |
| 타입              | PascalCase<br/>\*interface: "I-"<br/>\*type: "T-"                           |

### 2. 주석

> 코드는 의미를, 주석은 의도를 (개발자의 글쓰기 - 김철수)

```js
// 일반적인 설명

//TODO: 추가 작업 필요

// ========== 대구분 ========== //

//# 첫 번째 구분
//>> 두 번째 구분
//--| 세 번째 구분
//---- 네 번째 구분
//..... 다섯 번째 구분

/** export 하는 대상 */
```

\*_주석은 디버깅이 불가능하기 때문에 필요한 경우만 사용하고 지속적으로 관리해야 함_

### 3. 커밋 메시지

```bash
[tag] content
# ----------
# [add] 추가 - [add] 로그인 페이지 "추가"
# [delete] 삭제 - [delete] Kakao 소셜 로그인 "삭제"
# [update] 개선 - [update] 로그인 페이지 스타일 "개선"
# [modify] 코드만 일부 변경 - [modify] 단순 주석 및 변수명 "변경"
# [refactor] 코드 구조 개선 - [refactor] 로그인 기능 "리팩토링"
# [fix] 문제 해결 - [fix] 비밀번호 대소문자 미구분 문제 "해결"
# [docs] 문서 관련 작업 / [docs] README.md 수정
# [chore] 기타 작업 / [chore] 임시로 Google 소셜 로그인 주석 처리
# [test] 테스트 코드 / [test] 로그인 기능 테스트 코드 추가
# ----------
# 개조식으로 작성
# "어떻게"가 아닌 "무엇"을 설명, 필요할 경우 "왜"도 설명
# 내용이 필요할 경우 제목에서 한 줄 띄우고 작성
# 내용이 여러 줄일 때는 "-"로 구분
# 살펴볼 필요가 없는 커밋에는 "단순" 키워드 사용
```

_\*커밋 템플릿 추가 방법_

```bash
# 1. 작성
vim ~/.gitmessage.txt
# 2. 등록
git config --global commit.template ~/.gitmessage.txt
```

### 4. 브랜치 + PR

| Branch Type | Desc                                                                                                                                |
| ----------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| deploy/prd  | 배포 중인 메인 브랜치                                                                                                               |
| deploy/stg  | 배포 중인 개발 브랜치<br/>\*deploy/drd에 PR(제목 "**Deploy**") 후 **Rebase Merge**                                                  |
| feat/…      | 기능 별 개발 브랜치<br/>\*deploy/stg에 PR(제목 "**Feat: 작업 내용**") 후 **\(Squash) Merge**                                        |
| hotfix/…    | 긴급 수정을 위해 배포 중인 메인 브랜치에서 분기한 브랜치<br/>\*deploy/prd에 PR(제목 "**Hotfix: 작업 내용**") 후 **\(Squash) Merge** |

\*_원칙적으로 직접 push 금지 (긴급한 [hotfix]는 가능)_<br/>\*_PR 시 Assignee와 Label 작성 권장_<br/>\*_PR 시 추가 설명(스크린샷, GIF 포함 가능) 작성 권장_

❗️로컬에서 `merge --squash`(커밋 메시지 맨 윗줄 "**Feat: 변경 내용**")한 경우 deploy/stg에 PR 후 **Rebase Merge**

### 5. 폴더 구조 (/src)

| Folder           | Desc                                                                                                                                                                                                                           |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **_pages_**      | - 컴포넌트들을 페이지(url) 별로 모아두는 곳<br/>- 해당 페이지의 최상위 컴포넌트는 `index.tsx` 사용 (다른 컴포넌트는 사용 금지)<br/>- 해당 페이지에서만 사용하는 컴포넌트는 하위 컴포넌트가 있는 경우 폴더로 아니면 파일로 저장 |
| **_components_** | - 공용 컴포넌트들을 모아두는 곳<br/>- 하위 컴포넌트(PascalCase)가 있거나 비슷한 도메인(camelCase)으로 묶을 수 있는 경우 폴더로 아니면 파일로 저장<br/>- `common`에는 여러 곳에서 쓰이는 요소들 저장                            |
| apis             | - API들을 도메인 별로 모아두는 곳                                                                                                                                                                                              |
| assets           | - 이미지 등의 자료들을 도메인 별로 모아두는 곳<br/>\*svg는 컴포넌트로 빼서 사용, 네이밍은 "-Svg" 사용                                                                                                                          |
| hooks            | - 커스텀 훅들을 도메인 별로 모아두는 곳                                                                                                                                                                                        |
| i18n             | - i18n 다국어 지원 관련 자료들을 모아두는 곳                                                                                                                                                                                   |
| keys             | - 관리가 필요한 key들을 도메인별로 모아두는 곳<br/>\*네이밍은 "-\_KEY" 사용                                                                                                                                                    |
| natives          | - 네이티브 브릿지 함수들을 모아두는 곳<br/>- `index.ts`에서 플랫폼 확인                                                                                                                                                        |
| queries          | - React Query로 관리하는 전역 변수들을 도메인 별로 모아두는 곳<br/>- `queryClient.ts`에서 관련 설정 관리<br/>- `queryErrorHandler.ts`에서 에러 관리                                                                            |
| recoils          | - Recoil로 관리하는 전역 변수들을 도메인 별로 모아두는 곳<br/>\*네이밍은 "-State" 사용                                                                                                                                         |
| utils            | - 기타 파일들을 `constants`, `functions`로 우선 분류한 뒤 도메인 별로 모아두는 곳                                                                                                                                              |
| _types_          | - 공용 타입들을 도메인 별로 모아두는 곳<br/>- 전역 타입은 `global.d.ts`에 작성<br/>- 로컬 타입은 해당 파일 내부나 같은 인덱스에 작성<br/>\*파일 네이밍은 `-.type.ts` 사용                                                      |
| _styles_         | - 공용 스타일들을 도메인 별로 모아두는 곳<br/>- 로컬 스타일은 같은 인덱스에 작성 <br/>\*공용 스타일은 도메인 별로 `_[공용 스타일].scss`에 작성한 뒤 `main.scss`에서 합쳐서 내보냄                                              |

\*_도메인이 명확하지 않거나 파일이 많지 않은 경우 우선 따로 도메인을 나누지 않고 추후 회의를 통해 도메인을 나눌 수 있음_

### 6. 기타

#### a) 기명함수 컴포넌트 사용

#### b) import (auto)

```ts
import { builtin } from "builtin";

import { external } from "external";

import { internal } from "internal";

import { parent } from "../parent";
import { sibling } from "./sibling/sibling";
import { index } from "./index";

import type { IType } from "...";

import styles from "./styles.module.scss";
```

\*_루트 경로의 내장 모듈은 절대 경로만 사용_<br/> \*_타입은 `import type`만 사용_

#### c) export

- 기본적으로 `named export` 사용
- 단일 컴포넌트는 `export default` 사용

#### d) 약어는 정해진 약어 외에는 사용하지 않기

- func, btn, msg, el, idx, err, res, req, img, prev, sup, sub

#### e) 1rem = 10px 기준으로 사용

### PS.

- 1함수 1기능 지향
- 높은 응집도와 낮은 결합도 지향
- 스타일은 SCSS 파일에서만 작업 (공통 요소 수정은 Wrapper 활용)
- 최대 넓이(max-width) 1920px, 최소 넓이(min-width) 320px
