---
title: "[B2B/리팩토링] 초기 스타일"
date: 2023-05-10
categories:
  - \work
tags:
  - convention
  - next.js
  - typescript
  - eslint
  - prettier
  - lint-staged
  - husky
  - i18n
---

{{< alert "circle-info" >}}
이 게시물은 미래의 나를 위한 작업 과정의 요약본으로 설명이 많이 생략된 불친절한 글이다.
{{< /alert >}}

## 스타일

### 반응형

**개요**

현재 B2B의 스타일은 rtv라는 특이한 단위를 사용하고 있다. rtv란 `rem-to-vw`의 약자로

테블릿 작업을 처음 할 때 뷰포트 크기가 아닌 해상도를 보고 디자인 작업을 해서 사이즈가 비율에 맞춰서 줄여야해서 나온 고육지책

62.5% -> 16px이 기본일 때, 1rem === 10px 기준

1000 / 디자인 크기 vw

여기서 생긴 문제는 특정 사이즈 이상도 계속 커지는 문제

그래서 브레이크 포인트부터는 더 안작아지게

브래이크 포인트 / 디자인 크기 rem

320px to 1024px

하지만 모바일 혹은 테블릿사이즈만 필요한 화면 + 웹에서도 보여야함

그래서 반응형이 작동해버리는 문제 있었음

처음에는 데탑용 모바일용 둘다 대을 등등 다 따로 만들었음

그래서...테마를 도입함

그 테마를 페이지마다 적용하는 것으로 해결 useSetTheme

하지만 스토리북 도입 시 테마를 넣는거에 애먹어서 :not 활용

---

그다음 원래는 믹스인을 많이 만들었음. 편했으나 자유도가 너무 높고 스타일 파일은 추적이 안됨. 그리고 스토리북을 통한 컴포넌트의 문서화를 하고 싶었기 때문에 또 한 두가지 스타일의 적용때문에 스타일 파일이 늘어가는건 싫었음. 그렇다고 클래스를 다시 사용하기도 싫었음. 최대한 컴포넌트 위주의 개발을 하고 싶었음. 기본적인 스타일들을 컴포화 해서 뿌리기로함.

그래서 중복되는 스타일들 혹은 양이 많은 친구들을 믹스인화 및 변수화 시키고 해당 변수들은 :export로 추출하고 또 quickStyle이란 객체를 만들어서 오타의 가능성을 없에고, 해당 믹스인을 사용할 수 있게 함

맵을 활용해서

혹시 모를 중첩을 피하기 위해 quickStyle의 약어로 qs 접두사 사용

<details>
<summary>pages/_app.tsx</summary>
<div markdown="1">

</div>
</details>

<details>
<summary>pages/_app.tsx</summary>
<div markdown="1">

</div>
</details>

<details>
<summary>pages/_app.tsx</summary>
<div markdown="1">

</div>
</details>

<details>
<summary>_reset.scss</summary>
<div markdown="1">

```scss
* {
  margin: 0;
  padding: 0;
  color: inherit;
  font: inherit;
}
*,
:after,
:before {
  flex-shrink: 0;
  box-sizing: border-box;
}
:root {
  line-height: 1.5;
  /* 글이 상자 벗어나는 거 방지 */
  overflow-wrap: break-word;
  -moz-tab-size: 4;
  tab-size: 4;
  cursor: default;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* 모바일에서 꾹 클릭 시 색상 변경 방지 */
  -webkit-tap-highlight-color: transparent;
  /* 내용 선택 방지 */
  -webkit-touch-callout: none;
  /* 모바일에서 폰트 크기 조정 방지 */
  -webkit-text-size-adjust: none;
  -moz-text-size-adjust: none;
  text-size-adjust: none;
  /* 폰트 랜더링 부드럽게 만들기 */
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
}
html,
body {
  height: 100%; /* 최상위 부모 요소 기본 크기 설정 */
  font-weight: 400;
  font-size: 62.5%; /* 1rem === 10px */
  font-style: normal;
}
img {
  -webkit-user-drag: none;
}
img,
picture,
video,
canvas,
svg {
  /* 위치값을 가지고 상자 벗어나는거 방지 */
  display: block;
  max-width: 100%;
}
/* Chrome 자동 완성 배경색 지우기 */
input:-webkit-autofill {
  box-shadow: 0 0 0 30px transparent inset;
}
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus,
input:-webkit-autofill:active {
  transition: background-color 5000s ease-in-out 0s;
}
/* 선택 및 입력 스타일 초기화 */
button,
input,
select,
progress {
  background-color: transparent;
  border: 0;
  -webkit-appearance: none;
  appearance: none;
  &:focus,
  &:active {
    outline: none;
    box-shadow: none;
  }
}
meter {
  border: 0;
}
textarea {
  &:focus,
  &:active {
    outline: none;
    box-shadow: none;
  }
}
/* 입력 대상 커서 텍스트로 변경 */
input,
textarea {
  cursor: text;
}
/* 선택 대상 커서 포인터로 변경 */
a,
button,
select,
input[type="checkbox"],
input[type="radio"],
input[type="range"],
label {
  cursor: pointer;
}
/* 링크 스타일 초기화 */
a {
  text-decoration: none;
}
/* 표 스타일 초기와 */
table {
  border-collapse: collapse;
  border-spacing: 0;
}
/* 목록 스타일 초기화 */
ul,
ol {
  padding-left: 0;
  list-style: none;
}
```

</div>
</details>

## 폰트 최적화

<details>
<summary>pages/_app.tsx</summary>
<div markdown="1">

```ts
import localFont from "next/font/local";

import type { AppProps } from "next/app";

const fontSpoqaHanSansNeo = localFont({
  src: [
    {
      path: "../public/fonts/SpoqaHanSansNeo-Thin.woff",
      weight: "100",
      style: "normal",
    },
    {
      path: "../public/fonts/SpoqaHanSansNeo-Light.woff",
      weight: "300",
      style: "normal",
    },
    {
      path: "../public/fonts/SpoqaHanSansNeo-Regular.woff",
      weight: "400",
      style: "normal",
    },
    {
      path: "../public/fonts/SpoqaHanSansNeo-Medium.woff",
      weight: "500",
      style: "normal",
    },
    {
      path: "../public/fonts/SpoqaHanSansNeo-Bold.woff",
      weight: "700",
      style: "normal",
    },
  ],
});

function MyApp({ Component, pageProps }: AppProps) {
  return (
    <main className={fontSpoqaHanSansNeo.className}>
      <style jsx global>{`
        :root {
          --font-SpoqaHanSansNeo: ${fontSpoqaHanSansNeo.style.fontFamily};
        }
      `}</style>
      <Component {...pageProps} />
    </main>
  );
}

export default MyApp;
```

</div>
</details>

\*ref. https://nextjs.org/docs/pages/building-your-application/optimizing/fonts
